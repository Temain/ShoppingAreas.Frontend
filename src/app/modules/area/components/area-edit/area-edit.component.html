<app-breadcomb></app-breadcomb>

<div class="container">
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
      <form [formGroup]="areaEditForm" (submit)="onSubmit($event)" class="form-example-wrap area-edit__form" novalidate>
        <div class="form-example-int">
          <div class="form-group">
            <label>Наименование</label>
            <div class="nk-int-st">
              <input type="text" id="name" formControlName="name" [ngClass]="{'area-edit__field-error': isControlInvalid('name')}"
                class="form-control" autocomplete="off" placeholder="Введите наименование..." />
              <div *ngIf="isControlInvalid('name')">
                  <div *ngIf="areaEditForm.controls['name'].errors.required" class="area-edit__error">
                    Наименование обязательно для заполнения.
                  </div>
                  <div *ngIf="areaEditForm.controls['name'].errors.maxlength" class="area-edit__error">
                    Наименование должно быть длинной не более 200 символов.
                  </div>
                </div>
            </div>
          </div>
        </div>
        <div class="form-example-int">
          <div class="form-group">
            <label>Адрес</label>
            <div class="nk-int-st">
              <input type="text" id="address" formControlName="address" [ngClass]="{'area-edit__field-error': isControlInvalid('address')}"
                class="form-control" autocomplete="off" placeholder="Введите наименование..." />
              <div *ngIf="isControlInvalid('address')">
                  <div *ngIf="areaEditForm.controls['address'].errors.required" class="area-edit__error">
                    Адрес обязателен для заполнения.
                  </div>
                  <div *ngIf="areaEditForm.controls['address'].errors.maxlength" class="area-edit__error">
                    Адрес должен быть длинной не более 200 символов.
                  </div>
                </div>
            </div>
          </div>
        </div>
        <div class="form-example-int">
          <div class="form-group">
            <label>Изображение</label>
            <div class="nk-int-st">
              <div class="product-edit__form-group">
                <div class="input-group product-edit__form-input-group">
                  <span class="input-group-addon product-edit__form-addon">
                    <span class="input-text">Файл</span>
                  </span>
                  <input type="file" id="imageData" (change)="onImageChange($event)" class="form-control hidden" accept="image/*" #imageInput>
                  <button type="button" (click)="imageInput.click()" class="btn btn-custom">Выбрать файл</button> 
                </div>
                <div *ngIf="isControlInvalid('imageData')" class="product-edit__error">
                  Необходимо загрузить изображение.
                </div>
              </div>  
              <img *ngIf="imageData" [src]="imageData | safeHtml" height="200" alt="Предпросмотр изображения...">
            </div>
          </div>
        </div>
        <div class="form-example-int mg-t-15">
            <div *ngIf="errors" class="alert alert-danger" role="alert">
              {{errors.message}}
            </div>
        
            <input type="submit" value="Изменить" class="btn btn-success btn-lg notika-btn-success waves-effect">
        </div>
      </form>
    </div>
  </div>
</div>
